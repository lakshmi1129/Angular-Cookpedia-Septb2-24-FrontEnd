<div class="row">
    <div class="col-lg-2">
        <app-sidebar></app-sidebar>
    </div>
    <div class="col-lg-10">
        @if (id) {
            <h1 class="text-center my-3">Update Recipe Details</h1>
        }@else {
            <h1 class="text-center my-3">Add Recipe Details</h1>

        }
       <div class="container my-5 border rounded text-center p-5 shadow w-75">
            @if (recipeDetails.image) {
                <img width="100px" height="100px" [src]="recipeDetails.image" alt="No Image">
            }
            <div class="row">
                <div class="col-6">
                    <div class="mb-2">
                        <input [(ngModel)]="recipeDetails.name"  placeholder="Recipe Name" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <input [(ngModel)]="recipeDetails.prepTimeMinutes" placeholder="Recipe Prepration Time in Minutes" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <input [(ngModel)]="recipeDetails.image" placeholder="Recipe Image URL" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <label for="cuisine">Choose Cuisine Type</label>
                        <select [(ngModel)]="recipeDetails.cuisine"  name="cuisine" id="cuisine" class="form-control"> 
                            <option selected hidden disabled>Choose Cuisine Type</option>
                           @for (cuisine of cusineArray; track $index) {
                            <option [value]="cuisine">{{cuisine}}</option>
                           }
                        </select>
                    </div>
                    <div class="mb-2">
                        <div class="d-flex align-items-center mb-2">
                            <textarea #ingredient  class="form-control" placeholder="Add Recipe Ingredients"></textarea>
                            <button (click)="addIngredient(ingredient)" class="btn btn-primary ms-1">+</button>
                        </div>
                        @for (item of ingredients; track $index) {
                            <div class="d-flex align-items-center mb-2">
                                <input [value]="item" class="form-control" placeholder="Recipe Ingredients">
                                <button (click)="removeIngredient(item)" class="btn ms-1"><i class="fa-solid fa-trash text-danger"></i></button>
                            </div>
                        }
                    </div>
                </div>
                <div class="col-6">
                    <div class="mb-2">
                        <input [(ngModel)]="recipeDetails.servings" placeholder="Recipe Servings (ex:4)" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <input [(ngModel)]="recipeDetails.cookTimeMinutes" placeholder="Recipe Cooking Time in Minutes" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <input  [(ngModel)]="recipeDetails.caloriesPerServing" placeholder="Recipe Calorie Per Servings(ex:200)" class="form-control" type="text">
                    </div>
                    <div class="mb-2">
                        <label for="cuisine">Choose Mode of Cooking</label>
                        <select [(ngModel)]="recipeDetails.difficulty"  name="difficulty" id="difficulty" class="form-control"> 
                            <option selected hidden disabled>Choose Mode Of Cooking</option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                    </div>
                    <div class="mb-2">
                        <div class="d-flex align-items-center mb-2">
                            <textarea #instruction class="form-control" placeholder="Cooking Instructions"></textarea>
                            <button (click)="addInstructions(instruction)" class="btn btn-primary ms-1">+</button>
                        </div>
                        @for (item of instructions; track $index) {
                            <div class="d-flex align-items-center mb-2">
                                <input [value]="item" class="form-control" placeholder="Recipe Instruction">
                                <button (click)="removeInstructions(item)" class="btn ms-1"><i class="fa-solid fa-trash text-danger"></i></button>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <div class="mb-2">
                <div class="border rounded p-2">
                    <p class="mb-2">Choose Meal Type of the Recipe :
                        @if (id) {
                            @for (item of mealArray; track $index) {
                                <span class="m-1 border rounded p-1">{{item}}</span>
                                <button (click)="removeMealType(item)" class="btn"><i class="fa-solid fa-close"></i></button>
                            }
                        }
                        @else {
                            @for (item of mealArray; track $index) {
                                <span class="m-1 border rounded p-1">{{item}}</span>                              
                            }
                        }
                    </p>
                    <div class="d-flex flex-wrap my-3">
                        @for (meal of mealTypeArray; track $index) {
                            <div class="border rounded p-1 me-2">
                                <label [for]="meal">
                                    <input (change)="mealTypeSelect($event)" type="checkbox" [name]="meal" [id]="meal">
                                    {{meal}}
                                </label>
                            </div>
                        }
                    </div>
                </div>
            </div>
           @if (id) {
            <button (click)="editRecipe()" class="btn btn-success">Update Recipe</button>
           }@else {
            <button (click)="addRecipe()"class="btn btn-success">Add Recipe</button>
           }
       </div>
    </div>
</div>
